<Window x:Class="PortariaApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Portaria - Moradores/Visitantes" Height="750" Width="1100" Background="White">
    
    <Grid Margin="15">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2.5*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>

        <!-- CADASTRO -->
        <GroupBox Grid.Column="0" Header="Cadastro Morador/Visitante" FontWeight="Bold">
            <Grid Margin="15">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- DADOS PESSOAIS -->
                <StackPanel Grid.Row="0" Margin="0,0,0,15">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <StackPanel Width="250">
                            <TextBlock Text="Nome Completo:" FontWeight="SemiBold"/>
                            <TextBox Text="{Binding VisitanteSelecionado.Nome}" Height="28"/>
                        </StackPanel>
                        <StackPanel Width="150" Margin="15,0,0,0">
                            <TextBlock Text="Data de entrada:" FontWeight="SemiBold"/>
                            <TextBox Text="{Binding VisitanteSelecionado.DataNasc}" Height="28"/>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <StackPanel Width="120">
                            <TextBlock Text="Filial:" FontWeight="SemiBold"/>
                            <TextBox Text="{Binding VisitanteSelecionado.Filial}" Height="28"/>
                        </StackPanel>
                        <StackPanel Width="120" Margin="15,0,0,0">
                            <TextBlock Text="Tipo:" FontWeight="SemiBold"/>
                            <ComboBox Width="110" Height="28" SelectedIndex="{Binding VisitanteSelecionado.Tipo}"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>

                <!-- DOCUMENTOS -->
                <GroupBox Grid.Row="1" Header="Documentos" Margin="0,0,0,15">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <StackPanel Width="150">
                            <TextBlock Text="RG:"/>
                            <TextBox Text="{Binding VisitanteSelecionado.RG}"/>
                        </StackPanel>
                        
                        <StackPanel Width="150">
                            <TextBlock Text="Telefone:"/>
                            <TextBox Text="{Binding VisitanteSelecionado.Telefone}"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>

                <!-- ENDEREÇO -->
                
                <!-- FOTO + PLACA -->
                <GroupBox Grid.Row="3" Header="Foto e Veículo" Margin="0,0,0,15">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <StackPanel Width="250">
                            <TextBlock Text="Foto (caminho):"/>
                            <TextBox Text="{Binding VisitanteSelecionado.FotoPath}"/>
                            <Button Content="📷 Abrir Câmera" Width="110" Height="28" Margin="0,5,0,0"/>
                        </StackPanel>
                        <StackPanel Width="180" Margin="15,0,0,0">
                            <TextBlock Text="Placa Veículo:" FontWeight="SemiBold"/>
                            <TextBox Text="{Binding VisitanteSelecionado.Placa}"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>

                <!-- BOTÕES -->
                <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Content="✨ NOVO" Command="{Binding NovoCommand}" Width="90" Height="35" Margin="5" Background="LightGreen"/>
                    <Button Content="💾 SALVAR" Command="{Binding SalvarCommand}" Width="90" Height="35" Margin="5" Background="LightBlue"/>
                    <Button Content="🗑️ EXCLUIR" Command="{Binding ExcluirCommand}" Width="90" Height="35" Margin="5" Background="LightCoral"/>
                    <Button Content="🔄 LIMPAR" Command="{Binding LimparCommand}" Width="90" Height="35" Margin="5"/>
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- LISTA -->
        <GroupBox Grid.Column="1" Header="Lista Moradores/Visitantes" FontWeight="Bold">
            <Grid Margin="15">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="🔍 Pesquisar:" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding Filtro, UpdateSourceTrigger=PropertyChanged}" Width="200" Margin="10,0,0,0" Height="28"/>
                </StackPanel>
                
                <DataGrid Grid.Row="1" ItemsSource="{Binding VisitantesFiltrados}" 
                          SelectedItem="{Binding VisitanteSelecionado}" 
                          AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Nome" Binding="{Binding Nome}" Width="*" FontWeight="SemiBold"/>
                        <DataGridTextColumn Header="RG" Binding="{Binding RG}" Width="120"/>
                        <DataGridTextColumn Header="CPF" Binding="{Binding CPF}" Width="130"/>
                        <DataGridTextColumn Header="Telefone" Binding="{Binding Telefone}" Width="120"/>
                        <DataGridTextColumn Header="Filial" Binding="{Binding Filial}" Width="100"/>
                        <DataGridTextColumn Header="Placa" Binding="{Binding Placa}" Width="90"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>
    </Grid>
</Window>
